    if (block_type.starts_with("code:") || block_type == "shell" || block_type == "api") && modifiers.get("fallback").is_none() {
        println!("Error: Missing fallback for block type '{}'", block_type);
        return Err(nom::Err::Failure(nom::error::make_error(input, nom::error::ErrorKind::Verify)));
    }
